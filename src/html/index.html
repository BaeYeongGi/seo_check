@@include("../include/head.html", {
  "title": "타이니팜 | 공룡 테마 파크 오픈!",
})
<body>
  @@include("../include/scrollnavi.html")
  <main id="main-content">
    <p class="time_zone">
      2021-05-13 11:00 ~ 2021-06-03 11:00 (KST)<br/>
      타임존 표기 O, 남은 시간 표기 O
    </p>
    <article class="event_wrap">
      <h1 class="visually_hidden">타이니팜 공룡 테마 파크 오픈!</h1>
      <section class="section step1" id="step1">
        <h2 class="event_title">1. 테마파크 꼬꼬마 드래곤 만나기!</h2>
        <p class="event_text">타이니팜에 놀거리가 가득한 <span>공룡 테마 파크</span>가 오픈 되었어요!<br/>
        다양한 공룡옷을 입은 <span>공룡옷 동물들</span>과 함께 다양한 체험과 이벤트에 참여해 볼까요?<br/><br/>
        <span>하나, 교배</span>에서 <span>공룡옷 꼬꼬마 펭귄,공룡옷 아기곰</span>을,<br/>
        물물 교환소에서 <span>공룡옷 꼬꼬마 오리</span>를 만나보세요.<br/>
        <span>둘, 테마파크 꼬꼬마 드래곤의 알</span>에서 <span>테마파크 꼬꼬마 드래곤</span>을 만나보세요!<br/>
        이벤트 첫날, <span>테마파크 꼬꼬마 드래곤</span>을 획득하신 <span>선착순 100분</span>,<br/>
        5/14 오전 11시 이후 ~ 6/3 오전 11시전까지 매일 선착순 50분에게<br/>
        한정판 <span>분홍빛 테마파크 꼬꼬마 드래곤</span>이 찾아 간대요!<br/>
        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</p>
        <span class="item1">테마파크 꼬꼬마 드래곤</span>
        <span class="arrow">선착순</span>
        <span class="badge">한정판<br/>@@@</span>
        <span class="item2">분홍빛 테마파크 꼬꼬마 드래곤</span>   
        <ul class="event_notice">
          <li>테마파크 꼬꼬마 드래곤의 알 에서도 공룡옷 꼬꼬마 펭귄, 공룡옷 아기곰,<br/>공룡옷 꼬꼬마 오리를 만날 수 있어요!</li>
          <li>알 마일리지로 획득한 테마파크 꼬꼬마 드래곤은 선착순 조건에 해당 돼요.</li>
          <li>패키지 구매로 획득한 테마파크 꼬꼬마 드래곤은 선착순 조건에 해당되지 않아요.
          </li>
          <li>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br/>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          </li>
        </ul>
      </section>
      <section class="section step2" id="step2">
        <h2 class="event_title">2. 타이니팜 에어바운스 존 오픈</h2>
        <p class="event_text">
        <span>공룡 테마 파크</span>에 어린이 동물들이 신나게 뛰어 놀 수 있는<br/>
        <span>공룡 테마 에어바운스 존</span>이 오픈했어요!<br/>
        <span>공룡 테마 에어바운스 존</span>을 이용하려면 <span>에어바운스 입장권</span>이 필요해요!<br/>
        <span>에어바운스 입장권</span>은 <span>당일 11:00~익일 11:00 까지 진행되는 다양한 미션들을 완료 시</span><br/> 
        <span>미션 당 1개의 입장권을 획득</span> 할 수 있어요!<br/>
        이 외에도 미션 달성 시 다양한 보상도 획득할 수 있어요!<br/>
        지금 바로 <span>공룡옷 동물들</span>과 함께 미션에 참여해 볼까요?<br/>
        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
        </p>
        <dl class="ticket">
          <dt>에어바운스 입장권<br/>보유 수</dt>
          <dd>###</dd>
        </dl>
        <img src="../images/img_slide.webp" class="slide" alt="공룡 테마 파크의 미끄럼틀" loading="lazy"/>
        <img src="../images/img_penguin.webp" class="penguin observe" alt="공룡옷을 입은 펭귄이 미끄럼틀을 타고 있는 모습 미끄럼틀을 타는 펭귄" loading="lazy"/>
        <ul class="event_mission">
          <li>
            <span class="number stamp_taken observe" aria-label="미스테리 코인 5개">x5</span>
            <div class="content">
              모험가의 오두막에서<br/>
              모험 완료하기 3회
              <span class="count" aria-label="진행도 0/3">(0/3)</span>
            </div>
          </li>
          <li>
            <span class="number stamp_complete observe" aria-label="던전 입장권 1개">x1</span>
            <div class="content">
              동물 교배하기 1회
              <span class="count"  aria-label="진행도 0/1">(0/1)</span>
            </div>
          </li>
          <li>
            <span class="number" aria-label="펫 뽑기 코인 5개">x5</span>
            <div class="content">
              이벤트 럭키백 뽑기 1회
              <span class="count" aria-label="진행도 0/1">(0/1)</span>
              @@@@@@@@@@
            </div>
          </li>
          <li>
            <span class="number" aria-label="공룡 테마 코스튬 뽑기 1개">x1</span>
            <div class="content">
              벨TV 광고 보고<br/>
              보상받기 10회
              <span class="count" aria-label="진행도 0/10">(0/10)</span>
            </div>
          </li>
          <li>
            <span class="number" aria-label="성장 촉진제 30개">x30</span>
            <div class="content">
              요리 만들기 5회
              <span class="count" aria-label="진행도 0/5">(#/5)</span>
            </div>
          </li>
          <li>
            <span class="number" aria-label="생명 젤리 5개">x5</span>
            <div class="content">
              농장 동물들에게<br/>
              밥주기 30회
              <span class="count" aria-label="진행도 0/30">(0/30)</span>
            </div>
          </li>
          <li>
            <span class="number" aria-label="코인 30000개">x30000</span>
            <div class="content">
              농민 협회에 요리<br/>
              판매 하기 5회
              <span class="count" aria-label="진행도 0/5">(0/5)</span>
            </div>
          </li>
          <li>
            <span class="number" aria-label="레벨업 포션 3개">x3</span>
            <div class="content">
              마을 출석하기 1회<br/>
              <span class="count" aria-label="진행도 0/1">(0/1)</span>
            </div>
          </li>
        </ul>
      </section>
      <section class="section step_event" id="step_event">
        <h2 class="event_title">
        ★추가 이벤트!<br/>
        에어바운스존 이용 고객님~선물 받아가세요♥        
        </h2>
        <p class="event_text">
          <span>공룡 테마 에어바운스 존</span>에서 입장권 획득 개수에 따라 추가 선물을 준비했어요!<br/>@@@@@@@@@@@@@@@@@@@@@@@@@
        </p>
        <div class="gauge_box">
          <ul class="gauge_score">
            <li>10</li>
            <li>20</li>
            <li>40</li>
            <li>60</li>
            <li>80</li>
            <li>100</li>
            <li>120</li>
          </ul>
          <span class="gauge observe" data-gauge="40"></span>
        </div>
        <ul class="event_items">
          <li class="stamp_taken observe" aria-label="입장권 10개 수집 완료: 코인 50000개 획득">X 50000</li>
          <li class="stamp_complete observe" aria-label="입장권 20개 수집 완료: 생명 젤리 20개 획득">x 20</li>
          <li aria-label="입장권 40개 수집 완료: 왕관 3개 획득">x 3</li>
          <li aria-label="입장권 60개 수집 완료: 레벨업 포션 5개 획득">x 5</li>
          <li aria-label="입장권 80개 수집 완료: 실버벨 15개 획득">x 15</li>
          <li aria-label="입장권 100개 수집 완료: 테마파크 꼬꼬마 드래곤의 알 장식 90일권 1개 획득">x 1</li>
        </ul>
        <p class="prize">테마파크 꼬꼬마 드래곤의 알 장식 x 1</p>
        <ul class="event_notice">
          <li>각 미션 참여 횟수는 매일 오전 11시에 갱신 돼요!<br/>
          (단, 마을 출석하기, 벨 tv 광고 보고 보상 받기 미션의 경우 점검 이전에 이미 모두 달성 시<br/>점검 후 입장권이 자동 지급 돼요.)
          </li>
          <li>* 입장권 획득 개수에 따른 선물은 달성 즉시 선물함으로 지급돼요.</li>
          <li>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br/>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</li>
        </ul>
      </section>
      <section class="section step3" id="step3">
        <h2 class="event_title">3. 벨 TV에 새로운 채널이 추가되었어요!</h2>
        <p class="event_text">
          벨TV에 새로운 <span>이벤트 채널 2개</span>가 오픈 되었어요!<br/>
          이벤트 채널 추가를 기념하여 <span>매일 벨TV를 5회 이상, 10회 이상 시청</span>시<br/> 
          각 횟수 별 보상을 지급해 드려요.
        </p>
        <p class="event_channel_title">New Channel</p>
        <button class="event_button observe" type="button" aria-expanded="false" aria-controls="TV 시청 보상 정보">
          <img src="../images/img_event_antenna.webp" alt="" role="presentation" loading="lazy"/>
          일별 벨 TV 시청 횟수<br/>보상 정보 확인하기!
        </button>
        <ul class="event_mission">
          <li>
            <div class="title">오늘 나의 벨 TV<br/>시청횟수</div>
            <div class="count"><span>@@</span>회</div>
          </li>
          <li>
            <div class="title">5회 보상</div>
            <div class="stamp_taken observe"><span class="visually_hidden" aria-label="벨 TV 5회 시청 완료: 던전 입장권 1개 획득">x1</span></div>
          </li>
          <li>
            <div class="title">10회 보상</div>
            <div class="stamp_complete observe"><span class="visually_hidden" aria-label="벨 TV 10회 시청 완료: 공룡 테마 코스튬 뽑기 1개">x1</span></div>
          </li>        
        </ul>
        <ul class="event_notice">
          <li>* 벨TV에서 시청한 횟수만 카운트 돼요!</li>
          <li>* '오늘 나의 벨 TV 시청횟수'는 매일 11시에 초기화 돼요!<br/>
              (벨TV '화면 조정시간'과는 관계가 없어요!)</li>
          <li>* 벨TV 시청 횟수에 따른 보상은 달성 즉시 선물함으로 지급돼요!</li>
          <li>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br/>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</li>
        </ul>
      </section>
      @@include("../include/footer.html")
    </article>
  </main>
  <script type="text/javascript">
    (function(){
      function setGuageValue() {
        const gauge = document.querySelector('.gauge');
        if (!gauge) return;
        const gaugePoints = [
          { score: 10, percent: 14.2857 },
          { score: 20, percent: 28.5714 },
          { score: 40, percent: 42.8571 },
          { score: 60, percent: 57.1428 },
          { score: 80, percent: 71.41285 },
          { score: 100, percent: 85.7142 },
          { score: 120, percent: 99.9999 }
        ];
        const score = parseFloat(gauge.getAttribute('data-gauge'));
        if (isNaN(score)) {
          gauge.style.width = '0%';
          return;
        }
        const exact = gaugePoints.find(p => p.score === score);
        if (exact) {
          gauge.style.width = exact.percent + '%';
          return;
        }
        let prev = gaugePoints[0];
        let next = gaugePoints[gaugePoints.length - 1];
        for (let i = 1; i < gaugePoints.length; i++) {
          if (score < gaugePoints[i].score) {
            next = gaugePoints[i];
            prev = gaugePoints[i - 1];
            break;
          }
        }
        const percent = prev.percent + ((score - prev.score) / (next.score - prev.score)) * (next.percent - prev.percent);
        if(percent < 1){
          gauge.classList.add('remove');
        }
        gauge.style.width = percent + '%';
      }
      function setScrollAnimation(){
        const observedEls = document.querySelectorAll('.observe');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('ani');          
              observer.unobserve(entry.target);
              if (entry.target.classList.contains('gauge')) {
                setGuageValue();
              }          
            }
          });
        }, {
          threshold: 1,
          rootMargin: '0px 0px -70px 0px'
        });
        observedEls.forEach(el => observer.observe(el));
      }
      setScrollAnimation();
    })();
  </script>
</body>
</html>